% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate_nzavs_data.R
\name{simulate_nzavs_data}
\alias{simulate_nzavs_data}
\title{Simulate NZAVS-Style Panel Data for Causal Inference}
\usage{
simulate_nzavs_data(n = 5000, seed = 2026)
}
\arguments{
\item{n}{Integer. Number of individuals to simulate (default: 5000).
Total rows returned will be \code{n * 3} (three waves per individual).}

\item{seed}{Integer or NULL. Random seed for reproducibility (default: 2026).
Set to NULL to skip setting the seed.}
}
\value{
A tibble in long panel format with \code{n * 3} rows and the following
columns:

\strong{Identifiers:}
\describe{
\item{id}{Integer. Unique participant identifier.}
\item{wave}{Integer. Wave indicator (0, 1, or 2).}
}

\strong{Demographics and baseline confounders (L):}
\describe{
\item{age}{Numeric. Standardised age (increases by 1 each wave).}
\item{male}{Integer. Binary indicator (1 = male).}
\item{nz_european}{Integer. Binary ethnicity indicator.}
\item{education}{Numeric. Standardised years of education.}
\item{partner}{Integer. Binary indicator (1 = partnered).}
\item{employed}{Integer. Binary indicator (1 = employed).}
\item{log_income}{Numeric. Log household income.}
\item{nz_dep}{Numeric. Neighbourhood deprivation index.}
\item{agreeableness, conscientiousness, extraversion, neuroticism,
openness}{Numeric. Big Five personality traits (standardised).}
}

\strong{Candidate exposures (A):}
\describe{
\item{community_group}{Integer. Regular community group participation
(binary).}
\item{religious_service}{Integer. Regular religious service attendance
(binary).}
\item{volunteer_work}{Integer. Regular volunteer work (binary).}
}

\strong{Candidate outcomes (Y):}
\describe{
\item{wellbeing}{Numeric. General psychological wellbeing.}
\item{belonging}{Numeric. Sense of community belonging.}
\item{self_esteem}{Numeric. Self-esteem measure.}
\item{life_satisfaction}{Numeric. Life satisfaction measure.}
}

\strong{Ground-truth treatment effects (tau):}
Twelve columns named \code{tau_\{exposure\}_\{outcome\}} giving the true
individual-level causal effect of each exposure on each outcome. These
are constant across waves for a given individual (they depend on baseline
characteristics only).
}
\description{
Generates a synthetic three-wave panel dataset modelled on the New Zealand
Attitudes and Values Study (NZAVS). The data includes baseline confounders,
multiple candidate exposures, and multiple candidate outcomes with built-in
confounding structure and known ground-truth treatment effects.
}
\details{
\subsection{Causal structure}{

The data-generating process follows a three-wave panel design:
\itemize{
\item \strong{Wave 0 (baseline):} Confounders and pre-treatment outcome values.
Personality traits and demographics are drawn independently. Income and
deprivation depend on education and age.
\item \strong{Wave 1 (exposure):} Binary exposures are assigned via logistic models
that depend on baseline confounders, creating realistic selection bias.
Outcome values drift slightly from baseline.
\item \strong{Wave 2 (outcome):} Outcomes are generated as a function of baseline
values plus heterogeneous treatment effects of wave-1 exposures.
}
}

\subsection{Treatment effects}{

Effects are heterogeneous: they vary across individuals as a function of
baseline personality traits and partnership status. Some effects include
non-linear terms (e.g., squared neuroticism, interaction between
conscientiousness and openness) to create effect modification patterns
detectable by causal forests.

The average treatment effect (ATE) of any single exposure on any outcome
equals the population mean of the corresponding \code{tau_*} column.
}

\subsection{Intended use}{

Analysts choose one exposure-outcome pair for causal estimation. Multiple
options support teaching settings where each participant works on a
different question. The \code{tau_*} columns allow validation of causal
estimates against ground truth.
}
}
\examples{
# generate data with default settings
d <- simulate_nzavs_data()
dim(d)

# check average treatment effect of community group on wellbeing
mean(d$tau_community_wellbeing[d$wave == 0])

# smaller dataset for testing
d_small <- simulate_nzavs_data(n = 500, seed = 42)

}
